"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_use-hide-footer_use-hide-footer_ts-ui_packages_commenting_components_CompactComme-a88d8e"],{29943:(e,t,i)=>{i.d(t,{HS:()=>a,Oc:()=>r,Tv:()=>o,Xr:()=>SymbolChangedEvent,f7:()=>l,fD:()=>s,qR:()=>n});let OpenCopilotChatEvent=class OpenCopilotChatEvent extends Event{constructor(e){super("open-copilot-chat",{bubbles:!1,cancelable:!0}),this.payload=e}};Event;let AddCopilotChatReferenceEvent=class AddCopilotChatReferenceEvent extends Event{constructor(e,t=!1,i){super("add-copilot-chat-reference",{bubbles:!1,cancelable:!0}),this.reference=e,this.openPanel=t,this.id=i}};let SymbolChangedEvent=class SymbolChangedEvent extends Event{constructor(e){super("symbol-changed",{bubbles:!1,cancelable:!0}),this.context=e}};function n(e){window.dispatchEvent(new OpenCopilotChatEvent(e))}function r(e,t=!1,i){window.dispatchEvent(new AddCopilotChatReferenceEvent(e,t,i))}function a(e){return window.addEventListener("open-copilot-chat",e),()=>{window.removeEventListener("open-copilot-chat",e)}}function l(e){return window.addEventListener("add-copilot-chat-reference",e),()=>{window.removeEventListener("add-copilot-chat-reference",e)}}function s(e){return window.addEventListener("search-copilot-chat",e),()=>{window.removeEventListener("search-copilot-chat",e)}}function o(e){return window.addEventListener("symbol-changed",e),()=>{window.removeEventListener("symbol-changed",e)}}},99377:(e,t,i)=>{i.d(t,{C6:()=>r,UH:()=>o,Wp:()=>c,hs:()=>l,mF:()=>s,wh:()=>n,xP:()=>a});let n={explain:"explain",conversation:"conversation",suggest:"suggest",discussFileDiff:"discuss-file-diff",explainFileDiff:"explain-file-diff",reviewPr:"review-pull-request",actionsAgent:"actions-agent"},r=["exception","filtered","publicCode","contentTooLarge","rateLimit","agentUnauthorized","agentRequest","networkError","multipleAgentsAttempt"],a=["bing-search","codesearch","semantic-code-search","lexical-code-search","kb-search","getfile","getfilechanges","getdiscussion","get-actions-job-logs","getalert","planskill","get-github-data","support-search","get-figma","codesearchagentskill"],l={Experiments:"experiements",Prompt:"prompt",None:"none"},s={Unlicensed:"unlicensed",LicensedFull:"licensed_full",LicensedLimited:"licensed_limited"},o={IndividualFree:"free",IndividualPro:"pro",IndividualProPlus:"pro_plus",Business:"business",Enterprise:"enterprise"},c="NULL_MESSAGE"},73435:(e,t,i)=>{i.d(t,{QC:()=>f,s2:()=>m,wH:()=>l,xY:()=>u});var n=i(26940);function r(e,t){var i=function(e,t,i){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}(e,t,0);return i.get?i.get.call(e):i.value}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function l(e,t){return e<t?-1:+(e>t)}function s(e,t){return l(e.name,t.name)}function o(e,t){return l(e.fileName,t.fileName)}function c(e){return e.diff}let FileNode=class FileNode{constructor(e){this.diff=e,this.filePath=e.path;let t=this.filePath.split("/");this.fileName=t[t.length-1],this.directoryParts=t.slice(0,t.length-1)}};var d=new WeakMap;let DirectoryNode=class DirectoryNode{getOrCreateDirectory(e){let t=r(this,d).get(e);if(!t){let i=this.path?`${this.path}/`:"";t=new DirectoryNode(e,`${i}${e}`),this.directories.push(t),r(this,d).set(e,t)}return t}sort(){for(let e of(this.directories.sort(s),this.files.sort(o),this.directories))e.sort()}getOrderedDiffs(){let e=this.files.map(c);for(let t of this.directories)e.push(...t.getOrderedDiffs());return e}constructor(e,t){a(this,"directories",[]),a(this,"files",[]),function(e,t,i){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object");t.set(e,i)}(this,d,{writable:!0,value:new Map}),this.name=e,this.path=t}};function u(e){let t=new DirectoryNode("","");for(let i of e.map(e=>new FileNode(e))){let e=t;for(let t of i.directoryParts)e=e.getOrCreateDirectory(t);e.files.push(i)}return t.sort(),t}function f(e){let t;t="string"==typeof e?e:e?.newPath||e?.oldPath;let i=t?.lastIndexOf(".");return t?!i||i<0?n.F7:`.${t.substring(i+1)}`:""}function m(e){let t={};return e.map(e=>{let i=f(e.path);void 0!==t[i]?t[i]+=1:t[i]=1}),t}},4203:(e,t,i)=>{i.d(t,{U:()=>c});var n=i(21728),r=i(60039),a=i(97665),l=i(94747),s=i(80804),o=i(7799);function c(e){let t,i,r,o,c=(0,n.c)(10),{onSuccess:u,onError:f}=e,m=(0,a.jE)();return c[0]!==m?(t=async e=>{m.setQueryData((0,s.nZ)(),t=>({...t,...e}))},c[0]=m,c[1]=t):t=c[1],c[2]!==u?(i=()=>{u()},c[2]=u,c[3]=i):i=c[3],c[4]!==f?(r=e=>{f(e)},c[4]=f,c[5]=r):r=c[5],c[6]!==t||c[7]!==i||c[8]!==r?(o={mutationFn:d,onMutate:t,onSuccess:i,onError:r},c[6]=t,c[7]=i,c[8]=r,c[9]=o):o=c[9],(0,l.n)(o)}async function d(e){let{commentsPreference:t,lineSpacing:i,splitPreference:n}=e;if(!(0,o.M3)())return;let a={};t&&(a={...a,commentsPreference:t}),i&&(a={...a,lineSpacing:i}),n&&(a={...a,diff:n});let l=await (0,r.Sr)("/users/diffview",{method:"POST",headers:{Accept:"application/json"},body:a}),s=await l.json();if(l.ok)return s;throw Error(s.error||"Unknown error occurred",{cause:l.status})}},80804:(e,t,i)=>{i.d(t,{C0:()=>m,Pe:()=>u,Qn:()=>h,bJ:()=>f,in:()=>c,nZ:()=>d,sI:()=>o});var n=i(21728),r=i(60826),a=i(97286),l=i(26807),s=i(66871);let o={Visible:"visible",Collapsed:"collapsed"},c={hideWhitespace:!1,splitPreference:"split",lineSpacing:"relaxed",commentsPreference:o.Visible};function d(){return[r.u.diffViewUserSettings]}function u(e){let t,i,r,l=(0,n.c)(6);l[0]===Symbol.for("react.memo_cache_sentinel")?(t=d(),l[0]=t):t=l[0];let s=t;return l[1]!==e?(i=async()=>e||c,l[1]=e,l[2]=i):i=l[2],l[3]!==e||l[4]!==i?(r={queryKey:s,queryFn:i,initialData:e,staleTime:1/0},l[3]=e,l[4]=i,l[5]=r):r=l[5],(0,a.I)(r)}function f(e,t){let i=new URL(window.location.href,window.location.origin);if(t){let n=encodeURIComponent(t);i.searchParams.set(e,n)}else i.searchParams.delete(e);(0,s.bj)(i.toString())}function m(e){let t,i=(0,n.c)(2),r=e,[a]=(0,l.o)();i[0]!==a?(t=a.get("diff"),i[0]=a,i[1]=t):t=i[1];let s=t;return("split"===s||"unified"===s)&&(r=s),r}function h(e){let t=e,[i]=(0,l.o)(),n=i.get("w");return"1"===n?t=!0:"0"===n&&(t=!1),t}},39419:(e,t,i)=>{i.d(t,{sI:()=>n});let n={Visible:"visible",Collapsed:"collapsed"}},84483:(e,t,i)=>{i.d(t,{Dd:()=>d,ZD:()=>u,i8:()=>f,j$:()=>m,jU:()=>c,o9:()=>h,pd:()=>s,yI:()=>o});var n=i(66871),r=i(96679);function a(e){let t=e.match(/^#?(diff-[a-f0-9]+)(L|R)(\d+)(?:-(L|R)(\d+))?$/i);if(null!=t&&6===t.length)return t;let i=e.match(/^#?(discussion-diff-[0-9]+)(L|R)(\d+)(?:-(L|R)(\d+))?$/i);return null!=i&&6===i.length?i:null}function l(e,t){return`${"left"===t?"L":"R"}${e}`}function s(e){let t=e.match(/^#?(diff-[a-f0-9]+)/);return t?.[1]}function o(e){return!!(a(e)||a(`diff-${e}`))&&(e.includes("R")||e.includes("L"))}function c(e){if(!(s(e)||s(`diff-${e}`)))return;let t=e.replace("#","").replace("diff-","");return t.includes("-")&&(t=t.split("-")[0]??""),t.includes("L")&&(t=t.split("L")[0]??""),t.includes("R")&&(t=t.split("R")[0]??""),t}function d(e){let t=e.match(/^#?(r\d+)/),i=t?.[1];return i?parseInt(i.slice(1)):void 0}function u(e){let t=a(e);if(t){let e=t[1],i=t[2]?"L"===t[2]?"left":"right":void 0,n=t[3]?parseInt(t[3]):void 0;if(!e||!i||void 0===n)return;return{diffAnchor:e,startOrientation:i,startLineNumber:n,endOrientation:(t[4]?"L"===t[4]?"left":"right":void 0)??i,endLineNumber:(t[5]?parseInt(t[5]):void 0)??n,firstSelectedLineNumber:n,firstSelectedOrientation:i}}}function f(e){!function(e){let t=`#${e}`;if(t===window.location.hash)return;let i=window.location.href;(0,n.Zu)(t),window.dispatchEvent(new HashChangeEvent("hashchange",{newURL:window.location.href,oldURL:i}))}(m(e))}function m(e){let t=l(e.startLineNumber,e.startOrientation),i=`${e.diffAnchor}${t}`;if(e.endLineNumber!==e.startLineNumber||e.endOrientation!==e.startOrientation){let t=l(e.endLineNumber,e.endOrientation);i+=`-${t}`}return i}function h(){let e=a(r.fV.hash??"")??"",t="";return(""===e?s(r.fV.hash??"")??"":e?.[0]??"").replace("#","").replace("diff-","")}},83829:(e,t,i)=>{i.d(t,{A0:()=>l,TA:()=>c,Y:()=>d,_n:()=>u,rE:()=>s,t6:()=>o});let n=/[\u202A-\u202E]|[\u2066-\u2069]|\u{E0001}|\u{E007F}/u,r=/[\u202A-\u202E]|[\u2066-\u2069]|\u{E0001}|\u{E007F}/gu,a=/([\u202A-\u202E]|[\u2066-\u2069]|\u{E0001}|\u{E007F})/gu,l=new Map(Object.entries({"\u202A":"U+202A","\u202B":"U+202B","\u202C":"U+202C","\u202D":"U+202D","\u202E":"U+202E","\u2066":"U+2066","\u2067":"U+2067","\u2068":"U+2068","\u2069":"U+2069","\u{E0001}":"U+E0001","\u{E007F}":"U+E007F"}));function s(e){return`<span class="hidden-unicode-replacement" data-code-text="${e}"></span>`}function o(e){return e.split(a)}function c(e){return d(e)?e.replaceAll(r,e=>l.get(e)??""):e}function d(e){return n.test(e)}function u(e){return l.get(e)}},60826:(e,t,i)=>{i.d(t,{u:()=>n});let n={codeButton:"code_button",codeowners:"codeowners",commits:"commits",diffEntries:"diff_entries",diffstat:"diffstat",header:"header",mergeBox:"merge_box",mergeInstructions:"merge_instructions",pendingReview:"pending_review",statusChecks:"status_checks",tabCounts:"tab_counts",threadPreviews:"thread_previews",viewedFilesCount:"viewed_files_count",viewedFilesCount2:"viewed_files_count2",diffSummaries:"diff_summaries",diffViewUserSettings:"user_diff_view_settings",tableOfContents:"table_of_contents",diffCollapsedStatus:"diff_collapsed_status",diffContextLines:"diff_entry_lines",abandonReview:"abandon_review",addCommentReaction:"add_comment_reaction",changeBase:"change_base",cleanupCodespaces:"cleanup_codespaces",createReviewComment:"create_review_comment",deleteHeadRef:"delete_head_ref",dequeuePullRequest:"dequeue_pull_request",disableAutoMerge:"disable_auto_merge",enableAutoMerge:"enable_auto_merge",dismissReview:"dismiss_review",markReadyForReview:"mark_ready_for_review",merge:"merge",removeCommentReaction:"remove_comment_reaction",reRequestReviewFromUser:"re_request_review_from_user",restoreHeadRef:"restore_head_ref",resolveThread:"resolve_thread",runActionRequiredWorkflows:"run_action_required_workflows",submitReview:"submit_review",unresolveThread:"unresolve_thread",updateReviewComment:"update_review_comment",updatePullRequestBranch:"update_pull_request_branch",updateTitle:"update_title",updateDiffViewUserSettings:"update_diff_view_user_settings",updateViewedFiles:"update_viewed_files",updateMergeBoxUserPreference:"update_merge_box_user_preference",hideComment:"hide_comment",unhideComment:"unhide_comment",submitSuggestedChanges:"apply_suggestions"}},14103:(e,t,i)=>{i.d(t,{L:()=>r});var n=i(96540);function r(e){(0,n.useEffect)(()=>{if(!e)return;let t=document.querySelector(".footer");if(t)return t.hidden=!0,()=>{t.hidden=!1}},[e])}},1515:(e,t,i)=>{i.d(t,{z:()=>a});var n=i(74848),r=i(75177);let a=(0,i(96540).forwardRef)(({onClick:e,id:t,children:i},a)=>(0,n.jsx)(r.A,{as:"button",type:"button",id:t,ref:a,sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"left",fontWeight:400,color:"fg.muted",width:"100%",backgroundColor:"canvas.default",border:"1px solid",borderColor:"border.default",cursor:"text",borderRadius:2,height:"var(--control-medium-size)",lineHeight:"var(--text-body-lineHeight-medium)",px:2},onClick:e,children:i}));a.displayName="CompactCommentButton"},321:(e,t,i)=>{i.d(t,{q:()=>m});var n=i(74848),r=i(63869),a=i(68415),l=i(80663),s=i(96540),o=i(96235),c=i(60039);async function d(e,t){if(!t)return;let i=new FormData;i.set("file_tree_visible",e?"true":"false"),(0,c.DI)((0,o.h6D)(t),{method:"PUT",body:i,headers:{Accept:"application/json"}})}let u={sm:a.Gy.small,md:a.Gy.medium,lg:a.Gy.large},f={size:"medium",mobileBreakpoint:"md"};function m(e,t,i,o){let c={...f,...o},[m]=(0,l.I)(()=>!1,!0,[]),h=(0,s.useRef)(null),p=(0,s.useRef)(null),g=u[c.mobileBreakpoint??"md"],[x,b]=(0,s.useState)(t),[y,v]=(0,s.useState)(!1),_=(0,s.useCallback)(()=>{(0,a.nn)(window.innerWidth)<=g?(v(!0),requestAnimationFrame(()=>p.current?.focus())):(b(!0),d(!0,i),requestAnimationFrame(()=>h.current?.focus()))},[g,i]),w=(0,s.useCallback)(()=>{(0,a.nn)(window.innerWidth)<=g?(v(!1),requestAnimationFrame(()=>p.current?.focus())):(b(!1),d(!1,i),requestAnimationFrame(()=>h.current?.focus()))},[g,i]),j=(0,s.useMemo)(()=>(0,n.jsx)(r.L,{expanded:x,alignment:"left",ariaLabel:x?"Collapse file tree":"Expand file tree",tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:h,onToggleExpanded:()=>{x?w():_()},className:`d-none d-${c.mobileBreakpoint}-flex position-relative`,size:c.size}),[x,e,c.mobileBreakpoint,c.size,w,_]),N=(0,s.useMemo)(()=>(0,n.jsx)(r.L,{expanded:y,alignment:"left",ariaLabel:y?"Collapse file tree":"Expand file tree",tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:p,onToggleExpanded:()=>{y?w():_()},className:`d-${c.mobileBreakpoint}-none position-relative`,size:c.size}),[y,e,c.mobileBreakpoint,c.size,w,_]);return{splitPagePaneHidden:m&&!t,splitPageContentHidden:{narrow:y,regular:!1},isTreeExpanded:x,isMobileTreeExpanded:y,expandTree:_,collapseTree:w,treeToggleElement:(0,s.useMemo)(()=>(0,n.jsxs)(n.Fragment,{children:[N,j]}),[N,j]),treeToggleRef:h}}},54779:(e,t,i)=>{i.d(t,{$:()=>s});var n=i(74848),r=i(38621),a=i(15385),l=i(64979);let s=e=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.l.Divider,{}),(0,n.jsx)(l.t,{eventContext:{prx:!0},leadingVisual:(0,n.jsx)(r.CopilotIcon,{}),fileDiffReference:e.copilotChatReference})]});try{s.displayName||(s.displayName="CopilotDiffChatBlobActionsMenuItems")}catch{}},94800:(e,t,i)=>{i.d(t,{w:()=>u});var n=i(74848),r=i(38621),a=i(10569),l=i(15385),s=i(96540),o=i(6698),c=i(64979),d=i(10048);let u=({fileDiffReference:e,selectedRange:t,showDivider:i})=>{let u=(0,s.useMemo)(()=>{let i={...e};return t&&(i.selectedRange={start:`${t?.startOrientation[0]?.toUpperCase()??""}${t?.startLineNumber}`,end:`${t?.endOrientation[0]?.toUpperCase()??""}${t?.endLineNumber}`}),i},[e,t]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.W,{children:[(0,n.jsx)(a.W.Anchor,{children:(0,n.jsxs)(l.l.Item,{children:[(0,n.jsx)(l.l.LeadingVisual,{children:(0,n.jsx)(r.CopilotIcon,{})}),"Copilot"]})}),(0,n.jsx)(a.W.Overlay,{children:(0,n.jsxs)(l.l,{children:[(0,n.jsx)(c.t,{fileDiffReference:u,eventContext:{prx:!0}}),(0,n.jsx)(d.e,{fileDiffReference:u,eventContext:{prx:!0}}),(0,n.jsx)(o.i,{fileDiffReference:u,eventContext:{prx:!0}})]})})]}),i&&(0,n.jsx)(l.l.Divider,{})]})};try{u.displayName||(u.displayName="CopilotDiffChatContextMenu")}catch{}},6698:(e,t,i)=>{i.d(t,{i:()=>o});var n=i(74848),r=i(29943),a=i(38007),l=i(99543),s=i(15385);let o=({fileDiffReference:e,eventContext:t,afterSelect:i})=>{let{addToast:o}=(0,l.Y6)();return(0,n.jsx)(s.l.Item,{onSelect:()=>{(0,r.Oc)(e),o({message:"Reference added to thread",type:"success"}),(0,a.BI)("copilot.file-diff.add",t),i?.()},children:"Attach to current thread"})};try{o.displayName||(o.displayName="DiffLinesAttachMenuItem")}catch{}},64979:(e,t,i)=>{i.d(t,{t:()=>o});var n=i(74848),r=i(29943),a=i(99377),l=i(38007),s=i(15385);let o=({fileDiffReference:e,leadingVisual:t,eventContext:i,afterSelect:o})=>(0,n.jsxs)(s.l.Item,{onSelect:()=>{(0,r.qR)({intent:a.wh.conversation,references:[e]}),(0,l.BI)("copilot.file-diff.discuss",i),o?.()},children:[t&&(0,n.jsx)(s.l.LeadingVisual,{children:t}),"Ask about this diff"]});try{o.displayName||(o.displayName="DiffLinesDiscussMenuItem")}catch{}},10048:(e,t,i)=>{i.d(t,{e:()=>o});var n=i(74848),r=i(29943),a=i(99377),l=i(38007),s=i(15385);let o=({fileDiffReference:e,eventContext:t,afterSelect:i})=>(0,n.jsx)(s.l.Item,{onSelect:()=>{(0,r.qR)({content:"Explain",intent:a.wh.explainFileDiff,references:[e]}),(0,l.BI)("copilot.file-diff.explain",t),i?.()},children:"Explain"});try{o.displayName||(o.displayName="DiffLinesExplainMenuItem")}catch{}},40538:(e,t,i)=>{i.d(t,{Z:()=>j});var n=i(74848),r=i(21728),a=i(70179),l=i(96679),s=i(60039),o=i(96540),c=i(38621),d=i(87330),u=i(2724),f=i(19797),m=i(73451),h=i(19647),p=i(55847),g=i(65607);let x=[{label:"Comment is harmful or unsafe",value:"OFFENSIVE_OR_DISCRIMINATORY"},{label:"Comment is poorly formatted",value:"POORLY_FORMATTED"},{label:"Comment is not true",value:"INCORRECT"},{label:"Comment is not helpful",value:"UNHELPFUL"},{label:"Comment is attached to the wrong line(s)",value:"INCORRECT_LINE"},{label:"Code suggestion is harmful or unsafe",value:"SUGGESTION_OFFENSIVE_OR_DISCRIMINATORY"},{label:"Code suggestion is poorly formatted",value:"SUGGESTION_POORLY_FORMATTED"},{label:"Code suggestion does not solve the problem in the comment",value:"SUGGESTION_UNHELPFUL"},{label:"Code suggestion is invalid",value:"SUGGESTION_INVALID"}],b=e=>{let t,i,a,l,s=(0,r.c)(15),{onClose:c,onSubmit:d,feedbackOptions:g,returnFocusRef:b}=e,v=void 0===g?x:g,[_,w]=(0,o.useState)(!1);s[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],s[0]=t):t=s[0];let[j,N]=(0,o.useState)(t),[R,C]=(0,o.useState)("");s[1]!==j||s[2]!==d||s[3]!==R?(i=e=>{e.preventDefault(),w(!0),j.length&&d("NEGATIVE",j,R)},s[1]=j,s[2]=d,s[3]=R,s[4]=i):i=s[4];let E=i;return s[5]!==_||s[6]!==j||s[7]!==v||s[8]!==E||s[9]!==R?(a=()=>(0,n.jsxs)("form",{onSubmit:E,children:[(0,n.jsxs)(u.l.Body,{children:[(0,n.jsx)("div",{className:"mb-3",children:(0,n.jsxs)(f.A,{onChange:N,required:!0,children:[(0,n.jsx)(f.A.Label,{children:"Category"}),v.map(y),_&&!j&&(0,n.jsx)(f.A.Validation,{variant:"error",children:"Please select a feedback category"})]})}),(0,n.jsxs)(m.A,{id:"text_response",children:[(0,n.jsx)(m.A.Label,{children:"How should we improve this response?"}),(0,n.jsx)(h.Ay,{block:!0,rows:2,wrap:"wrap",name:"text_response",value:R,resize:"vertical",onChange:e=>C(e.currentTarget.value)})]})]}),(0,n.jsx)(u.l.Footer,{children:(0,n.jsx)(p.Q,{type:"submit",disabled:_&&(!R||!j),children:"Submit"})})]}),s[5]=_,s[6]=j,s[7]=v,s[8]=E,s[9]=R,s[10]=a):a=s[10],s[11]!==c||s[12]!==b||s[13]!==a?(l=(0,n.jsx)(u.l,{onClose:c,title:"Provide additional feedback",subtitle:"Please help us improve GitHub Copilot by sharing more details about this comment.",returnFocusRef:b,renderBody:a}),s[11]=c,s[12]=b,s[13]=a,s[14]=l):l=s[14],l};try{b.displayName||(b.displayName="NegativeFeedbackForm")}catch{}function y(e){return(0,n.jsxs)(m.A,{id:`feedback_choice_${e.value}`,children:[(0,n.jsx)(g.A,{value:e.value}),(0,n.jsx)(m.A.Label,{children:e.label})]},e.value)}let v=e=>{let t,i,a=(0,r.c)(5),{onClick:l,disabled:s}=e;return a[0]!==l?(t=()=>l("POSITIVE"),a[0]=l,a[1]=t):t=a[1],a[2]!==s||a[3]!==t?(i=(0,n.jsx)(d.K,{size:"small",variant:"invisible",disabled:s,icon:c.ThumbsupIcon,title:"Positive Feedback","aria-label":"Positive Feedback",onClick:t}),a[2]=s,a[3]=t,a[4]=i):i=a[4],i},_=e=>{let t,i,a,l,s,u=(0,r.c)(12),{onClick:f,disabled:m,feedbackOptions:h}=e,[p,g]=(0,o.useState)(!1),x=(0,o.useRef)(null);u[0]!==f?(t=(e,t,i)=>{f(e,t,i),g(!1)},u[0]=f,u[1]=t):t=u[1];let y=t;return u[2]!==p||u[3]!==h||u[4]!==y?(i=p&&(0,n.jsx)(b,{onClose:()=>g(!1),onSubmit:y,feedbackOptions:h,returnFocusRef:x}),u[2]=p,u[3]=h,u[4]=y,u[5]=i):i=u[5],u[6]===Symbol.for("react.memo_cache_sentinel")?(a=()=>g(!0),u[6]=a):a=u[6],u[7]!==m?(l=(0,n.jsx)(d.K,{ref:x,size:"small",variant:"invisible",disabled:m,icon:c.ThumbsdownIcon,title:"Negative Feedback","aria-label":"Negative Feedback",onClick:a}),u[7]=m,u[8]=l):l=u[8],u[9]!==i||u[10]!==l?(s=(0,n.jsxs)(n.Fragment,{children:[i,l]}),u[9]=i,u[10]=l,u[11]=s):s=u[11],s};try{v.displayName||(v.displayName="PositiveFeedbackButton")}catch{}try{_.displayName||(_.displayName="NegativeFeedbackButton")}catch{}let w=({commentId:e,commentUrl:t,feedbackPath:i,feedbackOptions:r,additionalParameters:a})=>{let[c,d]=(0,o.useState)(),u=(0,o.useMemo)(()=>{if(i)return i;if(t){let e=new URL(t,l.fV.origin);return e.hash="",`${e}/code_review_feedback`}throw Error("missing feedbackPath and commentUrl")},[t,i]),f=(t,i,n)=>{d(t);try{let r=new FormData;if(r.set("comment_id",e),r.set("feedback",t),a)for(let[e,t]of Object.entries(a))r.set(e,t);for(let e of i??[])r.append("feedback_choice[]",e);n&&r.set("text_response",n),(0,s.DI)(u,{method:"POST",body:r})}catch{}};return(0,n.jsxs)("div",{"data-testid":`copilot-code-review-feedback-${e}`,className:"d-flex gap-1",children:["NEGATIVE"!==c&&(0,n.jsx)(v,{disabled:!!c,onClick:f}),"POSITIVE"!==c&&(0,n.jsx)(_,{disabled:!!c,onClick:f,feedbackOptions:r})]})},j=e=>{let t,i=(0,r.c)(2);return i[0]!==e?(t=(0,n.jsx)(a.t,{fallback:null,children:(0,n.jsx)(w,{...e})}),i[0]=e,i[1]=t):t=i[1],t};try{w.displayName||(w.displayName="Feedback")}catch{}try{j.displayName||(j.displayName="CopilotCodeReviewFeedback")}catch{}},92032:(e,t,i)=>{i.d(t,{oj:()=>_,ZH:()=>x});var n=i(74848),r=i(21728),a=i(38621),l=i(96540),s=i(55864),o=i(34614),c=i(99987),d=i(73435),u=i(58990),f=i(11251),m=i(84483),h=i(96679);let p={"file-tree-row":"DiffFileTree-module__file-tree-row--yr73E"},g=(0,l.memo)(function(e){let t,i=(0,r.c)(2),{changeType:a}=e;return i[0]!==a?(t=(0,n.jsx)(u.E,{status:a}),i[0]=a,i[1]=t):t=i[1],t});g.displayName="FileStatusIconItem";let x=(0,l.memo)(function(e){let t,i,d,u,m,x,b,y,v,_,w=(0,r.c)(44),{file:j,depth:N,hash:R,onSelect:C}=e,E=(0,l.useRef)(null),S=(0,l.useRef)(null),F=`#diff-${j.diff.pathDigest}`;w[0]===Symbol.for("react.memo_cache_sentinel")?(t={focusRowRef:E,mouseRowRef:E},w[0]=t):t=w[0];let I=(0,f.Z)(t),A=j.diff.totalCommentsCount??0,D=j.diff.highestAnnotationLevel,k=null,L=null;switch(D){case"WARNING":{let e,t,i=A>0?"and ":"";w[1]!==i?(e=(0,n.jsxs)("span",{className:"sr-only",children:[i," has warning annotations"]}),w[1]=i,w[2]=e):e=w[2],L=e,w[3]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)("div",{className:"pl-1 fgColor-attention",children:(0,n.jsx)(a.AlertIcon,{})}),w[3]=t):t=w[3],k=t;break}case"NOTICE":{let e,t,i=A>0?"and ":"";w[4]!==i?(e=(0,n.jsxs)("span",{className:"sr-only",children:[i," has notice annotations"]}),w[4]=i,w[5]=e):e=w[5],L=e,w[6]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)("div",{className:"pl-1 fgColor-default",children:(0,n.jsx)(a.InfoIcon,{})}),w[6]=t):t=w[6],k=t;break}case"FAILURE":{let e,t,i=A>0?"and ":"";w[7]!==i?(e=(0,n.jsxs)("span",{className:"sr-only",children:[i," has failure annotations"]}),w[7]=i,w[8]=e):e=w[8],L=e,w[9]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)("div",{className:"pl-1 fgColor-danger",children:(0,n.jsx)(a.XCircleFillIcon,{})}),w[9]=t):t=w[9],k=t}}w[10]!==j.diff.pathDigest||w[11]!==R?(i=()=>{if(E.current&&j.diff.pathDigest===R){let e=window.setTimeout(()=>{let e=h.XC?.getElementById("diff_file_tree")?.parentElement,t=E.current.offsetTop,i=h.cg?.innerHeight??0;e&&(e.scrollTop=t-i/2)},0);return()=>{window.clearTimeout(e)}}},d=[j.diff.pathDigest,R],w[10]=j.diff.pathDigest,w[11]=R,w[12]=i,w[13]=d):(i=w[12],d=w[13]),(0,l.useEffect)(i,d),w[14]!==F||w[15]!==j.diff||w[16]!==C?(u=e=>{if(e.nativeEvent instanceof KeyboardEvent){if(E?.current!==document.activeElement)return void e.preventDefault();if("Enter"===e.key||" "===e.key){e.preventDefault(),C?.(j.diff),S?.current?.click();return}}if(e.nativeEvent instanceof MouseEvent){if(e.metaKey||e.ctrlKey||1===e.button){e.preventDefault(),window.open(F,"_blank");return}C?.(j.diff),S?.current?.click()}},w[14]=F,w[15]=j.diff,w[16]=C,w[17]=u):u=w[17];let O=u,T=j.diff.pathDigest===R;return w[18]!==j.diff.changeType?(m=(0,n.jsx)(s.G.LeadingVisual,{children:(0,n.jsx)(g,{changeType:j.diff.changeType})}),w[18]=j.diff.changeType,w[19]=m):m=w[19],w[20]!==F||w[21]!==j.fileName?(x=(0,n.jsx)(o.A,{href:F,muted:!0,ref:S,role:"presentation",className:"fgColor-default",tabIndex:-1,children:j.fileName}),w[20]=F,w[21]=j.fileName,w[22]=x):x=w[22],w[23]!==j.fileName||w[24]!==I?(b=I&&(0,n.jsx)(c.m,{"data-testid":`${j.fileName}-item-tooltip`,id:`${j.fileName}-item-tooltip`,contentRef:E,"aria-label":j.fileName,open:!0,direction:"ne"}),w[23]=j.fileName,w[24]=I,w[25]=b):b=w[25],w[26]!==A?(y=!!A&&(0,n.jsxs)("span",{className:"sr-only",children:["has ",A<10?A:"9+"," ",A>1?"comments":"comment"]}),w[26]=A,w[27]=y):y=w[27],w[28]!==k||w[29]!==D||w[30]!==A?(v=(!!A||D)&&(0,n.jsx)(s.G.TrailingVisual,{children:(0,n.jsxs)("div",{className:"d-flex flex-items-center flex-row",children:[!!A&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.CommentIcon,{}),(0,n.jsx)("div",{className:"ml-1 text-bold fgColor-default f6",children:A<10?A:"9+"})]}),k]})}),w[28]=k,w[29]=D,w[30]=A,w[31]=v):v=w[31],w[32]!==L||w[33]!==N||w[34]!==j.diff.path||w[35]!==j.diff.pathDigest||w[36]!==O||w[37]!==v||w[38]!==T||w[39]!==m||w[40]!==x||w[41]!==b||w[42]!==y?(_=(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(s.G.Item,{defaultExpanded:!0,"aria-level":N,current:T,id:j.diff.path,onSelect:O,ref:E,className:p["file-tree-row"],children:[m,x,b,y,L,v]},j.diff.pathDigest)}),w[32]=L,w[33]=N,w[34]=j.diff.path,w[35]=j.diff.pathDigest,w[36]=O,w[37]=v,w[38]=T,w[39]=m,w[40]=x,w[41]=b,w[42]=y,w[43]=_):_=w[43],_});function b(e){let t,i,a,o,d,u,m,h,p,g,x,_,w=(0,r.c)(43);w[0]!==e?({directory:t,renderPattern:a,depth:o,leadingPath:d,...i}=e,w[0]=e,w[1]=t,w[2]=i,w[3]=a,w[4]=o,w[5]=d):(t=w[1],i=w[2],a=w[3],o=w[4],d=w[5]);let j=void 0===o?0:o,N=void 0===d?"":d,R=N?`${N}/`:"",C=l.useRef(null),E=l.useRef(null);w[6]===Symbol.for("react.memo_cache_sentinel")?(u={focusRowRef:E,mouseRowRef:C},w[6]=u):u=w[6];let S=(0,f.Z)(u);if(!t.files.length&&1===t.directories.length){let e,r;if(w[7]!==j||w[8]!==t.directories||w[9]!==t.name||w[10]!==i||w[11]!==R||w[12]!==a){let r;w[14]!==j||w[15]!==t.name||w[16]!==i||w[17]!==R||w[18]!==a?(r=e=>(0,n.jsx)(b,{depth:0===j?1:j,directory:e,leadingPath:`${R}${t.name}`,renderPattern:a,...i},e.path),w[14]=j,w[15]=t.name,w[16]=i,w[17]=R,w[18]=a,w[19]=r):r=w[19],e=t.directories.map(r),w[7]=j,w[8]=t.directories,w[9]=t.name,w[10]=i,w[11]=R,w[12]=a,w[13]=e}else e=w[13];return w[20]!==e?(r=(0,n.jsx)(n.Fragment,{children:e}),w[20]=e,w[21]=r):r=w[21],r}w[22]!==j||w[23]!==t||w[24]!==i||w[25]!==a?(m=function(){return"traditional"===a?(0,n.jsx)(y,{directory:t,depth:j,renderPattern:a,...i}):(0,n.jsx)(v,{directory:t,depth:j,renderPattern:a,...i})},w[22]=j,w[23]=t,w[24]=i,w[25]=a,w[26]=m):m=w[26];let F=m;if(0===j){let e;return w[27]!==F?(e=F(),w[27]=F,w[28]=e):e=w[28],e}w[29]===Symbol.for("react.memo_cache_sentinel")?(h=(0,n.jsx)(s.G.LeadingVisual,{children:(0,n.jsx)(s.G.DirectoryIcon,{})}),w[29]=h):h=w[29];let I=`${R}${t.name}`;return w[30]!==I?(p=(0,n.jsx)("span",{ref:C,children:I}),w[30]=I,w[31]=p):p=w[31],w[32]!==t.name||w[33]!==R||w[34]!==S?(g=S&&(0,n.jsx)(c.m,{"data-testid":`${t.name}-directory-item-tooltip`,id:`${t.name}-directory-item-tooltip`,contentRef:E,"aria-label":`${R}${t.name}`,open:!0,direction:"ne"}),w[32]=t.name,w[33]=R,w[34]=S,w[35]=g):g=w[35],w[36]!==F?(x=(0,n.jsx)(s.G.SubTree,{children:F()}),w[36]=F,w[37]=x):x=w[37],w[38]!==t.path||w[39]!==p||w[40]!==g||w[41]!==x?(_=(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(s.G.Item,{ref:E,defaultExpanded:!0,id:t.path,children:[h,p,g,x]},t.path)}),w[38]=t.path,w[39]=p,w[40]=g,w[41]=x,w[42]=_):_=w[42],_}let y=(0,l.memo)(function(e){let t,i,a,l,s,o,c,d=(0,r.c)(20);d[0]!==e?({directory:t,fileNodeRenderer:i,renderPattern:l,depth:s,...a}=e,d[0]=e,d[1]=t,d[2]=i,d[3]=a,d[4]=l,d[5]=s):(t=d[1],i=d[2],a=d[3],l=d[4],s=d[5]);let u=void 0===s?0:s;if(d[6]!==u||d[7]!==t.directories||d[8]!==t.files||d[9]!==i||d[10]!==a||d[11]!==l){let e,r=t.files.map(w).concat(t.directories.map(j));r.sort(N),d[13]!==u||d[14]!==i||d[15]!==a||d[16]!==l?(e=e=>"file"!==e.pathType?(0,n.jsx)(b,{depth:u+1,directory:e.node,fileNodeRenderer:i,renderPattern:l,...a},e.path):i?i({...a,file:e.node,depth:u+1}):(0,n.jsx)(x,{depth:u+1,file:e.node,...a},e.path),d[13]=u,d[14]=i,d[15]=a,d[16]=l,d[17]=e):e=d[17],o=r.map(e),d[6]=u,d[7]=t.directories,d[8]=t.files,d[9]=i,d[10]=a,d[11]=l,d[12]=o}else o=d[12];return d[18]!==o?(c=(0,n.jsx)(n.Fragment,{children:o}),d[18]=o,d[19]=c):c=d[19],c});function v(e){let t,i,a,l,s,o,c=(0,r.c)(21);c[0]!==e?({directory:t,depth:a,...i}=e,c[0]=e,c[1]=t,c[2]=i,c[3]=a):(t=c[1],i=c[2],a=c[3]);let d=void 0===a?0:a;if(c[4]!==d||c[5]!==t.files||c[6]!==i){let e;c[8]!==d||c[9]!==i?(e=e=>(0,n.jsx)(x,{depth:d+1,file:e,...i},e.filePath),c[8]=d,c[9]=i,c[10]=e):e=c[10],l=t.files.map(e),c[4]=d,c[5]=t.files,c[6]=i,c[7]=l}else l=c[7];if(c[11]!==d||c[12]!==t.directories||c[13]!==i){let e;c[15]!==d||c[16]!==i?(e=e=>(0,n.jsx)(b,{depth:d+1,directory:e,...i},e.path),c[15]=d,c[16]=i,c[17]=e):e=c[17],s=t.directories.map(e),c[11]=d,c[12]=t.directories,c[13]=i,c[14]=s}else s=c[14];return c[18]!==l||c[19]!==s?(o=(0,n.jsxs)(n.Fragment,{children:[l,s]}),c[18]=l,c[19]=s,c[20]=o):o=c[20],o}let _=(0,l.memo)(function(e){let t,i,a,o,c,u,f,p,g,x,y,v=(0,r.c)(20);v[0]!==e?({diffs:i,fileNodeRenderer:a,renderPattern:c,className:t,...o}=e,v[0]=e,v[1]=t,v[2]=i,v[3]=a,v[4]=o,v[5]=c):(t=v[1],i=v[2],a=v[3],o=v[4],c=v[5]),v[6]!==i?(u=(0,d.xY)(i),v[6]=i,v[7]=u):u=v[7];let _=u,[w,j]=l.useState("");v[8]===Symbol.for("react.memo_cache_sentinel")?(f=()=>{j(((0,m.pd)(h.fV.hash??"")??"").replace("diff-",""))},v[8]=f):f=v[8];let N=f;return v[9]===Symbol.for("react.memo_cache_sentinel")?(p=()=>(window.addEventListener("hashchange",N),N(),()=>{window.removeEventListener("hashchange",N)}),g=[N],v[9]=p,v[10]=g):(p=v[9],g=v[10]),(0,l.useEffect)(p,g),v[11]!==a||v[12]!==o||v[13]!==_||v[14]!==w||v[15]!==c?(x=(0,n.jsx)(b,{directory:_,fileNodeRenderer:a,renderPattern:c,...o,hash:w}),v[11]=a,v[12]=o,v[13]=_,v[14]=w,v[15]=c,v[16]=x):x=v[16],v[17]!==t||v[18]!==x?(y=(0,n.jsx)(s.G,{"aria-label":"File Tree",className:t,children:x}),v[17]=t,v[18]=x,v[19]=y):y=v[19],y});try{x.displayName||(x.displayName="File")}catch{}try{b.displayName||(b.displayName="Directory")}catch{}try{y.displayName||(y.displayName="TraditionalDirectoryRendering")}catch{}try{v.displayName||(v.displayName="GroupedDirectoryRendering")}catch{}try{_.displayName||(_.displayName="DiffFileTree")}catch{}function w(e){return{path:e.filePath,pathType:"file",node:e}}function j(e){return{path:e.path,pathType:"directory",node:e}}function N(e,t){return(0,d.wH)(e.path,t.path)}},26940:(e,t,i)=>{i.d(t,{kF:()=>g,F7:()=>p});var n,r=i(74848),a=i(21728),l=i(38621),s=i(9591),o=i(10569),c=i(87330),d=i(63867),u=i(15385),f=i(96540),m=i(34164);let h={filterLoadingHeight:"FileFilter-module__filterLoadingHeight--cW8BP",filterMaxHeight:"FileFilter-module__filterMaxHeight--TgM5t"},p="No extension";function g({filterSize:e="medium",filterText:t,onFilterTextChange:i,fileExtensions:n,unselectedFileExtensions:a,onFilterChange:d,additionalFilterGroups:g}){n=n??{},a=a??new Set;let[x,b]=(0,f.useState)(t),y=(e,t)=>{d?.(e?"selectFileExtension":"unselectFileExtension",{extension:t})},v=Object.keys(n).filter(e=>e!==p).sort(),_=e=>!a.has(e),w=!!n[p];return(0,r.jsxs)("div",{className:"d-flex flex-nowrap gap-2",children:[(0,r.jsx)(s.A,{block:!0,"aria-label":"Filter files\u2026",leadingVisual:l.SearchIcon,placeholder:"Filter files\u2026",size:e,className:(0,m.$)("small"===e&&h.filterMaxHeight),value:x,onChange:e=>{b(e.target.value),i?.(e.target.value)}}),(0,r.jsxs)(o.W,{children:[(0,r.jsx)(o.W.Anchor,{children:(0,r.jsx)(c.K,{"aria-label":"Filter options",icon:l.SlidersIcon,className:"flex-shrink-0",size:e})}),(0,r.jsx)(o.W.Overlay,{children:(0,r.jsxs)(u.l,{children:[(0,r.jsxs)(u.l.Group,{selectionVariant:"multiple",children:[(0,r.jsx)(u.l.GroupHeading,{children:"File extensions"}),v.map(e=>{let t=_(e);return(0,r.jsx)(u.l.Item,{selected:t,onSelect:()=>y(!t,e),children:`${e} (${n[e]})`},e)}),w&&(0,r.jsx)(u.l.Item,{selected:_(p),onSelect:()=>y(!_(p),p),children:`${p} (${n[p]})`},p)]}),g]})})]})]})}try{(n=function(e){let t,i,n,u,f,p=(0,a.c)(9),{filterText:g,onFilterTextChange:x}=e;return p[0]!==x?(t=e=>x?.(e.target.value),p[0]=x,p[1]=t):t=p[1],p[2]!==g||p[3]!==t?(i=(0,r.jsx)(s.A,{block:!0,"aria-label":"Filter files\u2026",leadingVisual:l.SearchIcon,placeholder:"Filter files\u2026",value:g,onChange:t}),p[2]=g,p[3]=t,p[4]=i):i=p[4],p[5]===Symbol.for("react.memo_cache_sentinel")?(n=(0,r.jsx)(o.W.Anchor,{children:(0,r.jsx)(c.K,{"aria-label":"Filter options",icon:l.SlidersIcon,className:"flex-shrink-0"})}),p[5]=n):n=p[5],p[6]===Symbol.for("react.memo_cache_sentinel")?(u=(0,r.jsxs)(o.W,{children:[n,(0,r.jsx)(o.W.Overlay,{className:(0,m.$)(h.filterLoadingHeight),children:(0,r.jsx)("div",{className:(0,m.$)("d-flex","flex-column","flex-justify-center","flex-items-center",h.filterLoadingHeight),children:(0,r.jsx)(d.A,{size:"medium"})})})]}),p[6]=u):u=p[6],p[7]!==i?(f=(0,r.jsxs)("div",{className:"d-flex flex-nowrap gap-2",children:[i,u]}),p[7]=i,p[8]=f):f=p[8],f}).displayName||(n.displayName="FileFilterLoading")}catch{}try{g.displayName||(g.displayName="FileFilterShared")}catch{}},58990:(e,t,i)=>{i.d(t,{E:()=>l});var n=i(74848),r=i(21728),a=i(38621);function l(e){let t=(0,r.c)(4),{status:i}=e;switch(i){case"ADDED":case"COPIED":{let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(a.FileAddedIcon,{size:16,className:"fgColor-success"}),t[0]=e):e=t[0],e}case"DELETED":case"REMOVED":{let e;return t[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(a.FileRemovedIcon,{size:16,className:"fgColor-danger"}),t[1]=e):e=t[1],e}case"RENAMED":{let e;return t[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(a.FileMovedIcon,{size:16,className:"fgColor-attention"}),t[2]=e):e=t[2],e}default:{let e;return t[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(a.FileDiffIcon,{size:16,className:"fgColor-muted"}),t[3]=e):e=t[3],e}}}try{l.displayName||(l.displayName="FileStatusIcon")}catch{}},86388:(e,t,i)=>{i.d(t,{G:()=>T});var n=i(74848),r=i(21728),a=i(38621),l=i(10569),s=i(15385),o=i(34164),c=i(84217),d=i(55847),u=i(98939),f=i(96540),m=i(7799),h=i(96235),p=i(25772),g=i(60039);function x(e){return!e.dismissed}function b(e){return 0===(function(){let e,t,i=(0,r.c)(5),n=(0,p.B)();if(!n){let e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],i[0]=e):e=i[0],e}i[1]!==n.userNotices?(e=n.userNotices??[],i[1]=n.userNotices,i[2]=e):e=i[2];let a=e;return i[3]!==a?(t=a.filter(x),i[3]=a,i[4]=t):t=i[4],t})().filter(t=>t.name===e).length}var y=i(4203);let v="compact_diff_lines";function _(){let e,t,i,a,l,s,o,p,x,_,N,R,C,E=(0,r.c)(22),S=b(v),{dismissNotice:F}=function(e){let t,i,n=(0,r.c)(5),a=b(e);n[0]!==a||n[1]!==e?(t=()=>{(0,m.M3)()&&!a&&(0,g.DI)((0,h.VB1)({noticeName:e}),{method:"POST"})},n[0]=a,n[1]=e,n[2]=t):t=n[2];let l=t;return n[3]!==l?(i={dismissNotice:l},n[3]=l,n[4]=i):i=n[4],i}(v);E[0]===Symbol.for("react.memo_cache_sentinel")?(e={onSuccess:j,onError:w},E[0]=e):e=E[0];let{mutate:I}=(0,y.U)(e),[A,D]=(0,f.useState)(!0);E[1]!==F||E[2]!==I?(t=()=>{I({lineSpacing:"compact"}),D(!1),F()},E[1]=F,E[2]=I,E[3]=t):t=E[3];let k=t;E[4]!==F?(i=()=>{D(!1),F()},E[4]=F,E[5]=i):i=E[5];let L=i;return S?null:(E[6]===Symbol.for("react.memo_cache_sentinel")?(a={top:"60px",right:"-4px"},E[6]=a):a=E[6],E[7]===Symbol.for("react.memo_cache_sentinel")?(l={minWidth:"260px",width:"40%"},E[7]=l):l=E[7],E[8]===Symbol.for("react.memo_cache_sentinel")?(s=(0,n.jsx)(c.A,{sx:{fontSize:2},as:"h2",children:"Customizable line height"}),o=(0,n.jsx)("p",{children:"The default line height has been increased for improved accessibility. You can choose to enable a more compact line height from the view settings menu."}),E[8]=s,E[9]=o):(s=E[8],o=E[9]),E[10]===Symbol.for("react.memo_cache_sentinel")?(p={flexShrink:0,flexGrow:1},E[10]=p):p=E[10],E[11]!==k?(x=(0,n.jsx)(d.Q,{onClick:k,sx:p,children:"Enable compact line height"}),E[11]=k,E[12]=x):x=E[12],E[13]===Symbol.for("react.memo_cache_sentinel")?(_={color:"accent.fg",flexGrow:1},E[13]=_):_=E[13],E[14]!==L?(N=(0,n.jsx)(d.Q,{onClick:L,variant:"invisible",sx:_,alignContent:"center",children:"Dismiss"}),E[14]=L,E[15]=N):N=E[15],E[16]!==N||E[17]!==x?(R=(0,n.jsxs)(u.A.Content,{className:"d-flex flex-column gap-2",sx:l,children:[s,o,(0,n.jsxs)("div",{className:"d-flex gap-2 flex-row w-full flex-wrap",children:[x,N]})]}),E[16]=N,E[17]=x,E[18]=R):R=E[18],E[19]!==A||E[20]!==R?(C=(0,n.jsx)(u.A,{open:A,caret:"top-right",sx:a,children:R}),E[19]=A,E[20]=R,E[21]=C):C=E[21],C)}function w(){}function j(){}try{_.displayName||(_.displayName="DiffCompactLinesPopover")}catch{}var N=i(80804),R=i(97665);function C(e){let t,i,a,l,o,c=(0,r.c)(16),{lineSpacingPreferenceAvailable:d,onUpdateWhitespace:u,reloadOnChange:f}=e,m=void 0===d||d,h=void 0!==f&&f,{data:p}=(0,N.Pe)();c[0]===Symbol.for("react.memo_cache_sentinel")?(t={onSuccess:S,onError:E},c[0]=t):t=c[0];let{mutate:g}=(0,y.U)(t),x=(0,R.jE)();c[1]!==p||c[2]!==u||c[3]!==x||c[4]!==h?(i=()=>{p&&(x.setQueryData((0,N.nZ)(),e=>({...e,hideWhitespace:!p.hideWhitespace})),(0,N.bJ)("w",p.hideWhitespace?"0":"1"),h?window.location.reload():u?.(!p.hideWhitespace))},c[1]=p,c[2]=u,c[3]=x,c[4]=h,c[5]=i):i=c[5];let b=i;return p?(c[6]!==p.hideWhitespace||c[7]!==b?(a=(0,n.jsx)(s.l.Item,{selected:p.hideWhitespace,onSelect:b,children:"Hide whitespace"}),c[6]=p.hideWhitespace,c[7]=b,c[8]=a):a=c[8],c[9]!==p.lineSpacing||c[10]!==m||c[11]!==g?(l=m&&(0,n.jsx)(s.l.Item,{selected:"compact"===p.lineSpacing,onSelect:()=>g({lineSpacing:"compact"===p.lineSpacing?"relaxed":"compact"}),children:"Compact line height"}),c[9]=p.lineSpacing,c[10]=m,c[11]=g,c[12]=l):l=c[12],c[13]!==a||c[14]!==l?(o=(0,n.jsxs)(s.l.Group,{"aria-label":"Format",selectionVariant:"multiple",variant:"subtle",children:[a,l]}),c[13]=a,c[14]=l,c[15]=o):o=c[15],o):null}function E(){}function S(){}try{C.displayName||(C.displayName="DiffLinePresentationToggles")}catch{}function F(e){let t,i,a,l,o,c,d,u=(0,r.c)(17),{reloadOnChange:f}=e,m=void 0!==f&&f,{data:h}=(0,N.Pe)(),p=h?.splitPreference;u[0]===Symbol.for("react.memo_cache_sentinel")?(t={onSuccess:A,onError:I},u[0]=t):t=u[0];let{mutate:g}=(0,y.U)(t);u[1]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(s.l.GroupHeading,{children:"Layout"}),u[1]=i):i=u[1];let x="unified"===p;u[2]!==m||u[3]!==g?(a=()=>{g({splitPreference:"unified"}),(0,N.bJ)("diff","unified"),m&&window.location.reload()},u[2]=m,u[3]=g,u[4]=a):a=u[4],u[5]!==x||u[6]!==a?(l=(0,n.jsx)(s.l.Item,{selected:x,onSelect:a,children:"Unified"}),u[5]=x,u[6]=a,u[7]=l):l=u[7];let b="split"===p;return u[8]!==m||u[9]!==g?(o=()=>{g({splitPreference:"split"}),(0,N.bJ)("diff","split"),m&&window.location.reload()},u[8]=m,u[9]=g,u[10]=o):o=u[10],u[11]!==b||u[12]!==o?(c=(0,n.jsx)(s.l.Item,{selected:b,onSelect:o,children:"Split"}),u[11]=b,u[12]=o,u[13]=c):c=u[13],u[14]!==l||u[15]!==c?(d=(0,n.jsxs)(s.l.Group,{selectionVariant:"single",children:[i,l,c]}),u[14]=l,u[15]=c,u[16]=d):d=u[16],d}function I(){}function A(){}try{F.displayName||(F.displayName="DiffViewPreferenceToggle")}catch{}var D=i(39419);function k(){let e,t,i,a,l=(0,r.c)(8),{data:o}=(0,N.Pe)();l[0]===Symbol.for("react.memo_cache_sentinel")?(e={onSuccess:O,onError:L},l[0]=e):e=l[0];let{mutate:c}=(0,y.U)(e);if(!o)return null;let d=o.commentsPreference===D.sI.Collapsed;return l[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)(s.l.Divider,{}),l[1]=t):t=l[1],l[2]!==d||l[3]!==c?(i=()=>c({commentsPreference:d?D.sI.Visible:D.sI.Collapsed}),l[2]=d,l[3]=c,l[4]=i):i=l[4],l[5]!==d||l[6]!==i?(a=(0,n.jsxs)(n.Fragment,{children:[t,(0,n.jsx)(s.l.Group,{"aria-label":"Comments",selectionVariant:"single",children:(0,n.jsx)(s.l.Item,{role:"menuitemcheckbox",selected:d,onSelect:i,children:"Minimize comments"})})]}),l[5]=d,l[6]=i,l[7]=a):a=l[7],a}function L(){}function O(){}try{k.displayName||(k.displayName="DiffCommentsPreferenceToggle")}catch{}function T(e){let t,i,c,d,u,f,m,h,p,g,x,b=(0,r.c)(23),{invisible:y,lineSpacingPreferenceAvailable:v,onUpdateWhitespace:w,reloadOnSplitPreferenceChange:j,reloadOnWhitespaceChange:N,small:R}=e,E=void 0===v||v,S=void 0!==j&&j,I=void 0!==N&&N,A=void 0===y||y?"Button--invisible":"Button--secondary",D=R&&"Button--small";return b[0]!==A||b[1]!==D?(t=(0,o.$)("Button Button--iconOnly",A,D),b[0]=A,b[1]=D,b[2]=t):t=b[2],b[3]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(a.GearIcon,{}),b[3]=i):i=b[3],b[4]!==t?(c=(0,n.jsx)(l.W.Anchor,{children:(0,n.jsx)("button",{className:t,"aria-label":"Open diff view settings",children:i})}),b[4]=t,b[5]=c):c=b[5],b[6]!==S?(d=(0,n.jsx)(F,{reloadOnChange:S}),b[6]=S,b[7]=d):d=b[7],b[8]===Symbol.for("react.memo_cache_sentinel")?(u=(0,n.jsx)(k,{}),f=(0,n.jsx)(s.l.Divider,{}),b[8]=u,b[9]=f):(u=b[8],f=b[9]),b[10]!==E||b[11]!==w||b[12]!==I?(m=(0,n.jsx)(C,{lineSpacingPreferenceAvailable:E,onUpdateWhitespace:w,reloadOnChange:I}),b[10]=E,b[11]=w,b[12]=I,b[13]=m):m=b[13],b[14]!==d||b[15]!==m?(h=(0,n.jsx)(l.W.Overlay,{children:(0,n.jsxs)(s.l,{children:[d,u,f,m]})}),b[14]=d,b[15]=m,b[16]=h):h=b[16],b[17]!==h||b[18]!==c?(p=(0,n.jsxs)(l.W,{children:[c,h]}),b[17]=h,b[18]=c,b[19]=p):p=b[19],b[20]===Symbol.for("react.memo_cache_sentinel")?(g=(0,n.jsx)(_,{}),b[20]=g):g=b[20],b[21]!==p?(x=(0,n.jsxs)(n.Fragment,{children:[p,g]}),b[21]=p,b[22]=x):x=b[22],x}try{T.displayName||(T.displayName="DiffViewSettings")}catch{}},89323:(e,t,i)=>{i.r(t),i.d(t,{default:()=>m});var n=i(74848),r=i(80663),a=i(6869),l=i(75177),s=i(63867),o=i(96540);let c={ERROR:"ERROR",LOADING:"LOADING",LOADED:"LOADED",READY:"READY"};function d(e){e&&(e.load=e.hello=null,e.helloTimer&&(clearTimeout(e.helloTimer),e.helloTimer=null),e.loadTimer&&(clearTimeout(e.loadTimer),e.loadTimer=null))}function u(e,t){e&&e.postMessage&&e.postMessage(JSON.stringify(t),"*")}let f={FileRendererWrapper:"FileRendererBlob-module__FileRendererWrapper--PLJ7W",FileRendererViewport:"FileRendererBlob-module__FileRendererViewport--WwSdq",loadingIndicator:"FileRendererBlob-module__loadingIndicator--P3luP",fileContentFrame:"FileRendererBlob-module__fileContentFrame--tPzAR",errorMessageHeading:"FileRendererBlob-module__errorMessageHeading--omRNb"};function m({identityUuid:e,size:t,type:i,url:m}){let[p]=(0,r.I)(()=>window.location.origin,"https://www.github.com",[]),g=new URL(m,p).origin,{renderState:x,errorMsg:b,iFrameRef:y,containerRef:v}=function(e){let[t,i]=function(e){let[t,i]=(0,o.useState)(e),n=(0,o.useRef)(t);return[n,e=>{n.current=e,i(e)}]}(c.LOADING),n=(0,o.useRef)(null),r=(0,o.useRef)(null),a=(0,o.useRef)(null),l=(0,o.useRef)({untimed:!0}),s=(0,o.useCallback)(t=>(function(e,t,i,n,r,a,l){if(e.origin!==t)return;let s=function(e){var t;let i=e.data;if(!i)return null;if("string"==typeof i)try{i=JSON.parse(i)}catch{return null}return"object"==typeof(t=i)&&t&&"render"===t.type&&"string"==typeof t.body&&"object"==typeof t.payload?i:null}(e);if(!s)return void a(c.ERROR);let o=s.body,d=null!=s.payload?s.payload:void 0,f=i.current?.contentWindow;switch(o){case"hello":(r.current??{untimed:!0}).hello=Date.now(),u(f,{type:"render:cmd",body:{cmd:"ack",ack:!0}}),u(f,{type:"render:cmd",body:{cmd:"branding",branding:!1}});break;case"error":case"error:fatal":case"error:invalid":d&&l(d.error??null),a(c.ERROR);break;case"loading":a(c.LOADING);break;case"loaded":a(c.LOADED);break;case"ready":d&&"number"==typeof d.height&&n.current&&(n.current.style.height=`${d.height}px`),a(c.READY);break;case"resize":d&&"number"==typeof d.height&&n.current&&(n.current.style.height=`${d.height}px`);break;case"code_rendering_service:container:get_size":u(f,{type:"render:cmd",body:{cmd:"code_rendering_service:container:size","code_rendering_service:container:size":{width:n.current?.getBoundingClientRect().width}}});break;case"code_rendering_service:markdown:get_data":if(!i.current||!n.current)return;!function(e,t){let i=e.getAttribute("data-content");if(!i)return;let n={type:"render:cmd",body:{cmd:"code_rendering_service:data:ready","code_rendering_service:data:ready":{data:JSON.parse(i).data,width:t.getBoundingClientRect().width}}};u(e.contentWindow,n)}(i.current,n.current)}})(t,e,r,a,l,i,e=>n.current=e),[e,i]);return(0,o.useEffect)(()=>{d(l.current);let e=e=>{(t.current===c.LOADING||t.current===c.LOADED)&&(!e||l.current.hello)&&i(c.ERROR)};return l.current={load:Date.now(),hello:null,helloTimer:window.setTimeout(e,1e4,!0),loadTimer:window.setTimeout(e,45e3)},()=>{d(l.current)}},[t,i]),(0,o.useEffect)(()=>(window.addEventListener("message",s),()=>window.removeEventListener("message",s)),[s]),{renderState:t.current,errorMsg:n.current,iFrameRef:r,containerRef:a}}(g);if("ipynb"===i&&t>3e7||t>2e8)return(0,n.jsx)(a.A,{variant:"danger",children:"Sorry, this is too big to display."});let _=x!==c.READY?{height:"1px",width:"1px",position:"fixed",bottom:0,right:0}:{height:"100%",width:"100%"};return(0,n.jsx)("div",{className:f.FileRendererWrapper,children:(0,n.jsxs)(l.A,{"data-hpc":!0,"data-host":g,"data-type":i,ref:v,sx:{...x!==c.ERROR?{borderBottomLeftRadius:"6px",borderBottomRightRadius:"6px",lineHeight:"0",padding:5,textAlign:"center"}:{},...x===c.READY?{height:"500px",padding:0,background:"none"}:{}},className:f.FileRendererViewport,children:[x===c.ERROR?(0,n.jsx)(h,{error:b}):x!==c.READY?(0,n.jsx)(s.A,{size:"large",className:f.loadingIndicator}):null,x!==c.ERROR&&(0,n.jsx)(l.A,{as:"iframe",ref:y,src:`${m}#${e}`,sandbox:"allow-scripts allow-same-origin allow-top-navigation",sx:{..._},name:e,title:"File display",className:f.fileContentFrame,children:"Viewer requires iframe."})]})})}function h({error:e}){if(!e)return(0,n.jsx)(a.A,{variant:"danger",children:"Unable to render code block"});let t=e.split(`
`);return(0,n.jsxs)(a.A,{variant:"danger",children:[(0,n.jsx)("p",{className:f.errorMessageHeading,children:"Error rendering embedded code"}),(0,n.jsx)("p",{children:t.map((e,t)=>(0,n.jsxs)(o.Fragment,{children:[e,(0,n.jsx)("br",{})]},`error-line-${t}`))})]})}try{m.displayName||(m.displayName="FileRendererBlob")}catch{}try{h.displayName||(h.displayName="FileRendererErrorMessage")}catch{}},4652:(e,t,i)=>{i.d(t,{o:()=>s});var n=i(74848),r=i(21728),a=i(38621),l=i(94977);function s(){let e,t=(0,r.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(l.A,{direction:"n",text:"This line has hidden Unicode characters",children:(0,n.jsx)(a.AlertIcon,{className:"mr-2"})}),t[0]=e):e=t[0],e}try{s.displayName||(s.displayName="HiddenUnicodeAlert")}catch{}},58246:(e,t,i)=>{i.d(t,{a:()=>u});var n=i(74848),r=i(21728),a=i(96679),l=i(80663),s=i(38621),o=i(34614),c=i(6869),d=i(55847);function u(e){let t,i,u,m,h,p=(0,r.c)(7),{isShown:g,toggleShowHiddenCharacters:x}=e;p[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],p[0]=t):t=p[0];let[b]=(0,l.I)(f,a.cg,t);if(!b)return null;p[1]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(s.AlertIcon,{}),p[1]=i):i=p[1],p[2]===Symbol.for("react.memo_cache_sentinel")?(u=(0,n.jsxs)("span",{children:["This file contains bidirectional or hidden Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters."," ",(0,n.jsx)(o.A,{inline:!0,href:"https://github.co/hiddenchars",target:"_blank",rel:"noreferrer",children:"Learn more about bidirectional Unicode characters"})]}),p[2]=u):u=p[2],p[3]===Symbol.for("react.memo_cache_sentinel")?(m={backgroundClip:"padding-box"},p[3]=m):m=p[3];let y=g?"Hide revealed characters":"Show hidden characters";return p[4]!==y||p[5]!==x?(h=(0,n.jsxs)(c.A,{className:"d-flex flex-items-center",full:!0,variant:"warning",children:[i,u,(0,n.jsx)(d.Q,{className:"ml-4 float-right",onClick:x,size:"small",style:m,children:y})]}),p[4]=y,p[5]=x,p[6]=h):h=p[6],h}function f(){return a.cg}try{u.displayName||(u.displayName="HiddenUnicodeBanner")}catch{}},81351:(e,t,i)=>{i.d(t,{Gx:()=>s});var n=i(74848),r=i(21728),a=i(83829);function l(e){let t,i=(0,r.c)(2),{char:a}=e;return i[0]!==a?(t=(0,n.jsx)("span",{className:"hidden-unicode-replacement padded",children:a}),i[0]=a,i[1]=t):t=i[1],t}function s(e){return(0,a.Y)(e)?(0,a.t6)(e).map(e=>{let t=a.A0.get(e);return t?`<span class="hidden-unicode-replacement">${t}</span>`:e}).join(""):null}try{l.displayName||(l.displayName="HiddenUnicodeCharacter")}catch{}},69851:(e,t,i)=>{i.d(t,{x:()=>d});var n=i(74848),r=i(21728),a=i(88191),l=i(96540),s=i(80663);function o(e,t){let i,l,o,d,u,f,m=(0,r.c)(13);m[0]!==e?({children:i,src:o,...l}=e,m[0]=e,m[1]=i,m[2]=l,m[3]=o):(i=m[1],l=m[2],o=m[3]),m[4]===Symbol.for("react.memo_cache_sentinel")?(d=[],m[4]=d):d=m[4];let[h]=(0,s.I)(c,!0,d);return m[5]!==h||m[6]!==o?(u=h?{}:{src:o,"data-nonce":(0,a.M1)()},m[5]=h,m[6]=o,m[7]=u):u=m[7],m[8]!==i||m[9]!==l||m[10]!==t||m[11]!==u?(f=(0,n.jsx)("include-fragment",{...l,ref:t,...u,children:i}),m[8]=i,m[9]=l,m[10]=t,m[11]=u,m[12]=f):f=m[12],f}function c(){return!1}let d=(0,l.forwardRef)(o);try{o.displayName||(o.displayName="IncludeFragmentWithRef")}catch{}try{d.displayName||(d.displayName="IncludeFragment")}catch{}},75062:(e,t,i)=>{i.d(t,{e:()=>a});var n=i(74848),r=i(94232);function a(){return(0,n.jsx)("div",{className:"d-flex flex-wrap gap-1",children:(0,n.jsx)(r.O,{variant:"elliptical",height:"28px",width:"28px"})})}try{a.displayName||(a.displayName="ReactionViewerLoading")}catch{}},34582:(e,t,i)=>{i.d(t,{k:()=>o});var n=i(74848),r=i(39459),a=i(75177),l=i(53110);function s({iconColor:e,icon:t,size:i=12,backgroundColor:r="fg.onEmphasis",absolute:s=!0,backgroundSx:o}){let c,d;return 12===i?(c="10px",d="1px"):20===i?(c="16px",d="2px"):(c="16px",d="4px"),(0,n.jsxs)(a.A,{sx:{display:"flex",borderRadius:"100px",...s?{position:"absolute",bottom:-1,right:-1,boxShadow:"0 0 0 2px var(--bgColor-default, var(--color-canvas-default))",backgroundColor:"var(--bgColor-default, var(--color-canvas-default))"}:{position:"relative"},...o},children:[(0,n.jsx)(a.A,{sx:{display:"flex",position:"absolute",borderRadius:"100px",width:c,height:c,left:d,top:d,backgroundColor:r}}),(0,n.jsx)(l.A,{icon:t,size:i,sx:{color:e,position:"relative"}})]})}try{s.displayName||(s.displayName="StatusIcon")}catch{}function o({zIndex:e,altText:t,hovercardUrl:i,src:l,square:o,icon:c,iconColor:d,backgroundColor:u,backgroundSx:f,sx:m,size:h=20}){return(0,n.jsxs)(a.A,{sx:{position:"relative",display:"flex",gap:2,alignItems:"center",...e,...m},children:[(0,n.jsx)(r.r,{alt:t,"data-hovercard-url":i,size:h,square:o,src:l}),(0,n.jsx)(s,{icon:c,iconColor:d,size:12,backgroundColor:u,backgroundSx:f})]})}try{o.displayName||(o.displayName="StatusAvatar")}catch{}}}]);
//# sourceMappingURL=ui_packages_use-hide-footer_use-hide-footer_ts-ui_packages_commenting_components_CompactComme-a88d8e-1f570871ca91.js.map